Patches for squashfs-tools: https://github.com/plougher/squashfs-tools/pull/3

Build system
	Autotools versioning
		Currently autoconf 2.68, automake 1.11 tested. Use AC_PREREQ?
		Test older versions
	libsquashfuse: Install it as a library
	Debug builds: configure option?
	Mac builds
		Support specifying SDK, arch, universal builds
	We need a real test suite
	Fully process squashfs_fs.h directly from the kernel version
		Remove [0] lines for Windows
		Add __le## for many OSes
		Remove function macros
		Redefine INVALID_BLK
		etc...

Features
	Design a better API for libsquashfuse. Ideally we'd use heap pointers for
    backwards compatibility, instead of the stack allocation we use now.
	Use better error codes, error reporting, sanity checks
	Support/emulate non-namespaced xattrs, for OS X?
	squashfs 3 and earlier support?
	LZMA1 compression?

Performance
	Multi-threading
    We currently support multiple threads calling into libsquashfuse
      Some OSes (like OS X) don't actually take advantage of it
    Would be nice to actually use concurrency to speed up operations, eg:
      read UIDs in parallel
	Byte swapping
		Use platform-specific optimizations (eg: libkern/OSByteOrder.h)
		Also arch-specific
	Block index: Create incrementally, as needed?
    It's pretty fast now for even enormous files
	Speculative read-ahead? Trust OS to do it?
	Caching and threading strategy delegation?
		eg: Small caches for low-memory; huge caches for complete extraction 
	Profile for optimization opportunities
  32-bit inode memory bug workaround
    Currently we identify inodes with a 32-bit block location + 16-bit offset
    Blocks are only 8192 bytes (2^13) and inodes are at least 16 (2^4) bytes
      we can uniquely identify an offset with just 9 bytes
    That leaves us with 23 bytes as the block index, which should work for all
      but the largest archives
    We can reserve room for all the inodes, in case index overflows 23 bits
    Must we read all MD blocks at start? Use B+tree?

Platform support
	Known bad
		QNX 6.5 (qfuse)
			fuse_session_add_chan() crashes
			High-level crashes too
		Windows
			Dokan/DokanX/fuse4win: all crash for me
			CBFS: Totally different API, expensive
			Explorer Namespace Extensions: hard to write, includes GUI code
      IFS driver: hard to write (kernel)
			Pismo File Mount?
			FUSE-NT?
	Linux kernel < 2.4.20
		Requires lower versions of fuse, eg: 2.1
    Write a separate driver?
	No low-level fuse
		Solaris 11 (uvfs/fuse): High-level sort-of works
		Minix 3.2 (puffs/refuse): High-level won't work
		Haiku (userlandfs): High-level won't work, userlandfs hard to build
		Hurd (libfuse): High-level works fine, version 2.5

Programs
  Network filesystem: For systems without FUSE, we could use an FTP or
    WebDAV server to vend the filesystem.
  Cross-language: Try to embed into eg: Java or Ruby
  Implement unsquashfs
  Plugin for File Roller, The Unarchiver, etc
  PUFFS API

Old versions
	v3
		- Both endianesses are possible
		- Different superblock from v4 (same as 1, 2)
		- Different inode structs
		- No xattrs
		- UIDs and GIDs separate
	v2
		- Some superblock fields in different place (guid_start_2, etc)
		- Different inode structs, fragment entry struct, dir structs
	v1
		- Block size different in superblock (block_size_1)
		- No fragments
		- Different inode structs
